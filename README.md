# SodaSearch

SodaSearch是一个基于Python的搜索聚合工具，支持装载插件扩充搜索源。

> 项目开发中，可能会有一些功能未实现或存在问题，欢迎反馈和贡献

## 项目简介

SodaSearch是一个轻量级的搜索聚合平台，允许用户通过统一界面同时在多个搜索引擎和服务中进行搜索。它采用插件化架构，可以轻松扩展支持更多的搜索源。

主要特性：
- 🚀 统一搜索入口：在一个界面中同时搜索多个平台的内容
- 🔌 插件化架构：易于扩展，支持自定义搜索源
- 🎨 现代化UI：响应式设计，适配各种设备
- ⚙️ 可配置性：可以启用/禁用不同的搜索插件
- 📊 智能排序：基于相关性和评分对结果进行排序
- 🖼️ 图片代理：安全地加载第三方图片资源
- ✅ 官方标识：识别并标记官方网站结果

## 插件开发

> 文档由AI编写，可能存在部分错误

### 插件结构

每个插件是一个独立的 Python 文件，需要放在 `plugins` 目录下。

### 插件要求

插件必须包含一个 `get_results` 函数，该函数接收一个查询字符串参数，并返回一个包含搜索结果的列表。

### 结果格式

每个搜索结果必须是一个字典，包含以下字段：

| 字段名 | 类型 | 描述 | 是否必填 |
|--------|------|------|----------|
| title | 字符串 | 搜索结果标题 | 是 |
| link | 字符串 | 搜索结果链接 | 是 |
| outline | 字符串 | 搜索结果描述 | 是 |
| favicon | 字符串 | 网站图标 URL | 是 |
| from | 字符串 | 搜索来源名称 | 是 |
| source_icon | 字符串 | 来源图标 URL（可选） | 否 |
| score | 数值 | 自定义评分（可选，默认70） | 否 |

### 示例插件

```python
import requests

def get_results(query):
    """
    示例插件
    返回自定义搜索结果
    """
    results = []
    try:
        # 调用API获取搜索结果
        # 处理结果
        results.append({
            'title': '示例结果',
            'link': 'https://example.com',
            'outline': '这是一个示例搜索结果',
            'favicon': 'https://example.com/favicon.ico',
            'from': '示例来源',
            'source_icon': 'https://example.com/source-icon.svg',
            'score': 85  # 自定义评分
        })
    except Exception as e:
        print(f"插件错误: {e}")
    
    return results
```

### 插件开发步骤

1. 在 `plugins` 目录下创建一个新的 Python 文件
2. 实现 `get_results` 函数
3. 确保函数返回符合要求的结果格式
4. 重启 SodaSearch 应用或使用调试模式自动重载

### 评分说明

- 插件可以返回自定义评分，影响搜索结果的排序
- 评分越高，结果排名越靠前
- 如果不提供评分，默认使用70分

### 调试

- 应用启动时会显示插件加载状态
- 插件运行时的错误会输出到控制台
- 建议使用 Flask 的调试模式进行开发

### 示例插件

查看 `github_plugin.py` 了解完整的插件实现示例。